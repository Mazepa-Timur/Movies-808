{"ast":null,"code":"var _jsxFileName = \"T:\\\\8 VS Code\\\\Hi_808_V2\\\\front-end\\\\src\\\\components\\\\login\\\\FormLoginSingIn.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport './userLogin.css';\nimport { userAction } from '../../store/user.js';\nimport { themeAction } from '../../store/theme.js';\nimport { activityAction } from '../../store/activity.js';\nimport API from '../Database/authorization.js';\nimport InputEmail from '../Form/inputEmail';\nimport InputPassword from '../Form/inputPassword';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormLoginSingIn = props => {\n  _s();\n  document.body.style.overflowY = 'hidden';\n  const dispatch = useDispatch();\n  const [userEmail, setUserEmail] = useState('');\n  const [userPassword, setUserPassword] = useState('');\n  const [isValidData, setIsValidData] = useState('');\n  const [isValidEmail, setIsValidEmail] = useState('');\n  const [isValidPassword, setIsValidPassword] = useState('');\n  useEffect(() => {\n    if (userEmail && userPassword) {\n      setIsValidData(true);\n    }\n  }, [userEmail, userPassword]);\n  const saveData = async () => {\n    if (userEmail && userPassword) {\n      const formData = {\n        email: userEmail,\n        password: userPassword\n      };\n      const res = await API.login(formData);\n      if (res.name) {\n        document.body.style.overflowY = 'auto';\n        dispatch(userAction.updateData(res));\n        dispatch(themeAction.updataSetting(res.setting));\n        dispatch(activityAction.isActivity({\n          typeLogin: '',\n          isLogin: 'user'\n        }));\n      } else if (res === 'incorrect password') {\n        setIsValidPassword(res);\n      } else if (res === 'Email incorrect') {\n        setIsValidEmail(res);\n      }\n    } else {\n      console.error('incorect form data');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: `loginForm ${props.theme}`,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"headForm\",\n      children: \"Sing in Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputEmail, {\n      saveEmail: setUserEmail,\n      isValid: isValidEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputPassword, {\n      savePassword: setUserPassword,\n      isValid: isValidPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"sendButton\",\n      disabled: !isValidData,\n      onClick: saveData,\n      type: \"button\",\n      children: \"Sing in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(FormLoginSingIn, \"oOmsNOnLAEOKxBLn0jscnMdZuLc=\", false, function () {\n  return [useDispatch];\n});\n_c = FormLoginSingIn;\nexport default FormLoginSingIn;\nvar _c;\n$RefreshReg$(_c, \"FormLoginSingIn\");","map":{"version":3,"names":["useEffect","useState","useDispatch","userAction","themeAction","activityAction","API","InputEmail","InputPassword","jsxDEV","_jsxDEV","FormLoginSingIn","props","_s","document","body","style","overflowY","dispatch","userEmail","setUserEmail","userPassword","setUserPassword","isValidData","setIsValidData","isValidEmail","setIsValidEmail","isValidPassword","setIsValidPassword","saveData","formData","email","password","res","login","name","updateData","updataSetting","setting","isActivity","typeLogin","isLogin","console","error","className","theme","children","fileName","_jsxFileName","lineNumber","columnNumber","saveEmail","isValid","savePassword","disabled","onClick","type","_c","$RefreshReg$"],"sources":["T:/8 VS Code/Hi_808_V2/front-end/src/components/login/FormLoginSingIn.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport './userLogin.css'\r\n\r\nimport {userAction} from '../../store/user.js'\r\nimport {themeAction} from '../../store/theme.js'\r\nimport {activityAction} from '../../store/activity.js'\r\n\r\nimport API from '../Database/authorization.js'\r\nimport InputEmail from '../Form/inputEmail'\r\nimport InputPassword from '../Form/inputPassword'\r\n\r\nconst FormLoginSingIn = (props) => {\r\n    document.body.style.overflowY = 'hidden';\r\n    const dispatch = useDispatch();\r\n    const [userEmail, setUserEmail] = useState('');\r\n    const [userPassword, setUserPassword] = useState('');\r\n    \r\n    const [isValidData, setIsValidData] = useState('');\r\n    const [isValidEmail, setIsValidEmail] = useState('');\r\n    const [isValidPassword, setIsValidPassword] = useState('');\r\n\r\n    useEffect(()=>{\r\n        if (userEmail && userPassword) {\r\n            setIsValidData(true)\r\n        }\r\n    },[userEmail, userPassword]);\r\n\r\n    const saveData = async () => {\r\n        if (userEmail && userPassword) {\r\n            const formData = {\r\n                email: userEmail, \r\n                password: userPassword\r\n            }\r\n            const res = await API.login(formData);\r\n            if (res.name) {\r\n                document.body.style.overflowY = 'auto';\r\n                dispatch(userAction.updateData(res));\r\n                dispatch(themeAction.updataSetting(res.setting));\r\n                dispatch(activityAction.isActivity({typeLogin: '', isLogin: 'user'}));\r\n            } else if (res === 'incorrect password') {\r\n                setIsValidPassword(res);\r\n            } else if (res === 'Email incorrect') {\r\n                setIsValidEmail(res);\r\n            }\r\n        } else {\r\n            console.error('incorect form data');\r\n        }\r\n    }\r\n\r\n    return(\r\n        <form className={`loginForm ${props.theme}`}>\r\n            <label className='headForm'>Sing in Form</label>\r\n            <InputEmail saveEmail={setUserEmail} isValid={isValidEmail}/>\r\n            <InputPassword savePassword={setUserPassword} isValid={isValidPassword}/>\r\n            {/* <a href='/ChangePassword' className='linkButton'>password?</a> */}\r\n            <button className='sendButton' disabled={!isValidData} onClick={saveData} type='button'>Sing in</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FormLoginSingIn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}