{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { Cookies } from 'react-cookie';\nconst cookies = new Cookies();\nconst localTheme = localStorage.getItem('theme');\nconst themeDefault = localTheme === 'darkTheme' ? 'darkTheme' : 'lightTheme';\nconst userStore = createSlice({\n  name: 'userStore',\n  initialState: {\n    user: {\n      name: '',\n      setting: {\n        theme: themeDefault,\n        color: '#1889C8'\n      }\n    },\n    errors: [],\n    isLogin: false\n  },\n  reducers: {\n    setLoginError: (state, action) => {\n      return {\n        ...state,\n        errors: action.payload\n      };\n    },\n    setUserData: (state, action) => {\n      return {\n        ...state,\n        user: {\n          ...action.payload,\n          setting: {\n            ...action.payload.setting,\n            theme: themeDefault\n          }\n        },\n        isLogin: true,\n        errors: []\n      };\n    },\n    removeUserData: state => {\n      cookies.remove('access_token');\n      cookies.remove('refresh_token');\n      return {\n        ...state,\n        user: {\n          name: '',\n          setting: {\n            theme: themeDefault,\n            color: '#1889C8'\n          }\n        },\n        isLogin: false,\n        errors: []\n      };\n    },\n    changeTheme: state => {\n      const theme = state.user.setting.theme === 'lightTheme' ? 'darkTheme' : 'lightTheme';\n      localStorage.setItem('theme', theme);\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          setting: {\n            ...state.user.setting,\n            theme: theme\n          }\n        }\n      };\n    },\n    changeSetting: (state, action) => {\n      console.log();\n      localStorage.setItem('theme', action.payload.theme);\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          setting: {\n            color: action.payload.color,\n            theme: action.payload.theme\n          }\n        }\n      };\n    }\n  }\n});\nexport const userStoreAction = userStore.actions;\nexport default userStore.reducer;","map":{"version":3,"names":["createSlice","Cookies","cookies","localTheme","localStorage","getItem","themeDefault","userStore","name","initialState","user","setting","theme","color","errors","isLogin","reducers","setLoginError","state","action","payload","setUserData","removeUserData","remove","changeTheme","setItem","changeSetting","console","log","userStoreAction","actions","reducer"],"sources":["C:/Users/TNMYP/Documents/GitHub/Movies-808/Hi_808_V2/front-end-update/src/store/reducers/userStore.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { Cookies } from 'react-cookie';\r\nconst cookies = new Cookies();\r\n\r\nconst localTheme = localStorage.getItem('theme');\r\nconst themeDefault = localTheme === 'darkTheme' ? 'darkTheme' : 'lightTheme';\r\n\r\nconst userStore = createSlice({\r\n  name: 'userStore',\r\n  initialState: {\r\n    user: {\r\n      name: '',\r\n      setting: {\r\n        theme: themeDefault,\r\n        color: '#1889C8',\r\n      },\r\n    },\r\n    errors: [],\r\n    isLogin: false\r\n  },\r\n  reducers: {\r\n    setLoginError: (state, action) => {\r\n      return { ...state, errors: action.payload };\r\n    },\r\n    setUserData: (state, action) => {\r\n      return { ...state, user: {...action.payload, setting: {...action.payload.setting, theme: themeDefault}}, isLogin: true, errors: [] };\r\n    },\r\n    removeUserData: (state) => {\r\n      cookies.remove('access_token');\r\n      cookies.remove('refresh_token');\r\n      return {...state, user: { name: '', setting: { theme: themeDefault, color: '#1889C8'}}, isLogin: false, errors: [] };\r\n    },\r\n    changeTheme: (state) => {\r\n      const theme = state.user.setting.theme === 'lightTheme' ? 'darkTheme' : 'lightTheme';\r\n      localStorage.setItem('theme', theme);\r\n      return {...state, user: { ...state.user, setting: { ...state.user.setting, theme: theme }}};\r\n    },\r\n    changeSetting: (state, action) => {\r\n      console.log();\r\n      localStorage.setItem('theme', action.payload.theme);\r\n      return { ...state, user: {...state.user, setting: {color: action.payload.color, theme: action.payload.theme}}};\r\n    },\r\n  },\r\n});\r\n\r\nexport const userStoreAction = userStore.actions;\r\n\r\nexport default userStore.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,cAAc;AACtC,MAAMC,OAAO,GAAG,IAAID,OAAO,CAAC,CAAC;AAE7B,MAAME,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAChD,MAAMC,YAAY,GAAGH,UAAU,KAAK,WAAW,GAAG,WAAW,GAAG,YAAY;AAE5E,MAAMI,SAAS,GAAGP,WAAW,CAAC;EAC5BQ,IAAI,EAAE,WAAW;EACjBC,YAAY,EAAE;IACZC,IAAI,EAAE;MACJF,IAAI,EAAE,EAAE;MACRG,OAAO,EAAE;QACPC,KAAK,EAAEN,YAAY;QACnBO,KAAK,EAAE;MACT;IACF,CAAC;IACDC,MAAM,EAAE,EAAE;IACVC,OAAO,EAAE;EACX,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAa,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChC,OAAO;QAAE,GAAGD,KAAK;QAAEJ,MAAM,EAAEK,MAAM,CAACC;MAAQ,CAAC;IAC7C,CAAC;IACDC,WAAW,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MAC9B,OAAO;QAAE,GAAGD,KAAK;QAAER,IAAI,EAAE;UAAC,GAAGS,MAAM,CAACC,OAAO;UAAET,OAAO,EAAE;YAAC,GAAGQ,MAAM,CAACC,OAAO,CAACT,OAAO;YAAEC,KAAK,EAAEN;UAAY;QAAC,CAAC;QAAES,OAAO,EAAE,IAAI;QAAED,MAAM,EAAE;MAAG,CAAC;IACtI,CAAC;IACDQ,cAAc,EAAGJ,KAAK,IAAK;MACzBhB,OAAO,CAACqB,MAAM,CAAC,cAAc,CAAC;MAC9BrB,OAAO,CAACqB,MAAM,CAAC,eAAe,CAAC;MAC/B,OAAO;QAAC,GAAGL,KAAK;QAAER,IAAI,EAAE;UAAEF,IAAI,EAAE,EAAE;UAAEG,OAAO,EAAE;YAAEC,KAAK,EAAEN,YAAY;YAAEO,KAAK,EAAE;UAAS;QAAC,CAAC;QAAEE,OAAO,EAAE,KAAK;QAAED,MAAM,EAAE;MAAG,CAAC;IACtH,CAAC;IACDU,WAAW,EAAGN,KAAK,IAAK;MACtB,MAAMN,KAAK,GAAGM,KAAK,CAACR,IAAI,CAACC,OAAO,CAACC,KAAK,KAAK,YAAY,GAAG,WAAW,GAAG,YAAY;MACpFR,YAAY,CAACqB,OAAO,CAAC,OAAO,EAAEb,KAAK,CAAC;MACpC,OAAO;QAAC,GAAGM,KAAK;QAAER,IAAI,EAAE;UAAE,GAAGQ,KAAK,CAACR,IAAI;UAAEC,OAAO,EAAE;YAAE,GAAGO,KAAK,CAACR,IAAI,CAACC,OAAO;YAAEC,KAAK,EAAEA;UAAM;QAAC;MAAC,CAAC;IAC7F,CAAC;IACDc,aAAa,EAAEA,CAACR,KAAK,EAAEC,MAAM,KAAK;MAChCQ,OAAO,CAACC,GAAG,CAAC,CAAC;MACbxB,YAAY,CAACqB,OAAO,CAAC,OAAO,EAAEN,MAAM,CAACC,OAAO,CAACR,KAAK,CAAC;MACnD,OAAO;QAAE,GAAGM,KAAK;QAAER,IAAI,EAAE;UAAC,GAAGQ,KAAK,CAACR,IAAI;UAAEC,OAAO,EAAE;YAACE,KAAK,EAAEM,MAAM,CAACC,OAAO,CAACP,KAAK;YAAED,KAAK,EAAEO,MAAM,CAACC,OAAO,CAACR;UAAK;QAAC;MAAC,CAAC;IAChH;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMiB,eAAe,GAAGtB,SAAS,CAACuB,OAAO;AAEhD,eAAevB,SAAS,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}